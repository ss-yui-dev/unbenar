namespace = krakdhumvror
#Mage Heir
country_event = {
	id = krakdhumvror.1
	title = krakdhumvror.1.t
	desc = krakdhumvror.1.d
	#	picture = {
	#		trigger = { has_dlc = "Star and Crescent" }
	#		picture = muslimgfx_NEW_HEIR_eventPicture
	#	}
	#	picture = {
	#		trigger = NOT = { has_dlc = "Star and Crescent" }
	#		picture = KING_SICK_IN_BED_eventPicture
	#	}
	picture = KING_SICK_IN_BED_eventPicture
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		#Mage Heir
		name = krakdhumvror.1.a
		if = {
			limit = {
				I02 = {
					government = monarchy
				}
			}
			set_heir_mage_effect = yes
			add_estate_loyalty = {
				estate = estate_mages
				loyalty = 20
			}
		}
		else = {
			add_ruler_personality = mage_personality
			define_ruler_to_general = {
				fire = 4
				shock = 10
				manuever = 4
				siege = 4
				trait = war_wizard_personality
			}
			add_estate_loyalty = {
				estate = estate_mages
				loyalty = 20
			}
		}
	}
	#	option = { #Respect
	#		name = krakdhumvror.1.b
	#		
	#		add_republican_tradition = 20
	#		add_adm_power = 50
	#		add_dip_power = 50
	#		add_prestige = 20
	#		
	#	}
	#	option = { #Fear
	#		name = krakdhumvror.1.c
	#		
	#		add_republican_tradition = -20
	#		add_mil_power = 100
	#		add_army_tradition = 15
	#		add_stability_or_adm_power = yes
	#	}
}

#The Dwarf Question
country_event = {
	id = krakdhumvror.2
	title = krakdhumvror.2.t
	desc = krakdhumvror.2.d
	picture = FORGE_eventPicture	#LIBERUM_VETO_eventPicture
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		#Policy of Cooperation
		name = krakdhumvror.2.a
		add_country_modifier = {
			name = krakdhumvror_peacfeul_policy
			duration = 9125
		}
	}
	option = {
		#Policy of Warfare
		name = krakdhumvror.2.b
		add_country_modifier = {
			name = krakdhumvror_warfare_policy
			duration = 9125
		}
	}
}

#The Goblin Question
country_event = {
	id = krakdhumvror.3
	title = krakdhumvror.3.t
	desc = krakdhumvror.3.d
	picture = GOBLIN_GUNNER_event_picture
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		#Accept
		name = krakdhumvror.3.a
		add_country_modifier = {
			name = krakdhumvror_goblin_question
			duration = 10950
		}
		large_increase_of_goblin_tolerance_effect = yes
	}
	option = {
		#Second Class
		name = krakdhumvror.3.b
		add_country_modifier = {
			name = krakdhumvror_goblin_question
			duration = 7300
		}
		small_increase_of_goblin_tolerance_effect = yes
	}
	option = {
		#Nobility Handles It
		name = krakdhumvror.3.c
		add_country_modifier = {
			name = krakdhumvror_nobility_tolerance_laws
			duration = 3650
		}
		small_decrease_of_goblin_tolerance_effect = yes
	}
	option = {
		#Expel
		name = krakdhumvror.3.z
		add_country_modifier = {
			name = racial_pop_goblin_expulsion
			duration = -1
		}
		medium_decrease_of_goblin_tolerance_effect = yes
	}
	option = {
		#Purge
		name = krakdhumvror.3.e
		add_country_modifier = {
			name = racial_pop_goblin_purge
			duration = -1
		}
		large_decrease_of_goblin_tolerance_effect = yes
	}
}

#The Orc Question
country_event = {
	id = krakdhumvror.4
	title = krakdhumvror.4.t
	desc = krakdhumvror.4.d
	picture = ORC_WITH_AXE_eventPicture	#NUSANTARA_WAR_eventPicture #VILLAGE_RAIDED_eventPicture
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		#Second Class
		name = krakdhumvror.4.a
		add_country_modifier = {
			name = krakdhumvror_orc_question
			duration = 7300
		}
		small_increase_of_orcish_tolerance_effect = yes
	}
	option = {
		#Expel
		name = krakdhumvror.4.b
		add_country_modifier = {
			name = racial_pop_orcish_expulsion
			duration = -1
		}
		medium_decrease_of_orcish_tolerance_effect = yes
	}
	option = {
		#Purge
		name = krakdhumvror.4.c
		add_country_modifier = {
			name = racial_pop_orcish_purge
			duration = -1
		}
		large_decrease_of_orcish_tolerance_effect = yes
	}
}

#The Kobold Question
country_event = {
	id = krakdhumvror.5
	title = krakdhumvror.5.t
	desc = krakdhumvror.5.d
	picture = KOBOLD_HOARD_eventPicture
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		#Accept
		name = krakdhumvror.5.a
		add_country_modifier = {
			name = krakdhumvror_kobold_question
			duration = 10950
		}
		large_increase_of_kobold_tolerance_effect = yes
	}
	option = {
		#Second Class
		name = krakdhumvror.5.b
		add_country_modifier = {
			name = krakdhumvror_kobold_question
			duration = 7300
		}
		small_increase_of_kobold_tolerance_effect = yes
	}
	option = {
		#Nobility Handles It
		name = krakdhumvror.5.c
		add_country_modifier = {
			name = krakdhumvror_nobility_tolerance_laws
			duration = 3650
		}
		small_decrease_of_kobold_tolerance_effect = yes
	}
	option = {
		#Expel
		name = krakdhumvror.5.z
		add_country_modifier = {
			name = racial_pop_kobold_expulsion
			duration = -1
		}
		medium_decrease_of_kobold_tolerance_effect = yes
	}
	option = {
		#Purge
		name = krakdhumvror.5.e
		add_country_modifier = {
			name = racial_pop_kobold_purge
			duration = -1
		}
		large_decrease_of_kobold_tolerance_effect = yes
	}
}

#The Centaur Question
country_event = {
	id = krakdhumvror.6
	title = krakdhumvror.6.t
	desc = krakdhumvror.6.d
	picture = VILLAGE_RAIDED_eventPicture
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		#Second Class
		name = krakdhumvror.6.a
		add_country_modifier = {
			name = krakdhumvror_centaur_question
			duration = 7300
		}
		small_increase_of_centaur_tolerance_effect = yes
	}
	option = {
		#Expel
		name = krakdhumvror.6.b
		add_country_modifier = {
			name = racial_pop_centaur_expulsion
			duration = -1
		}
		medium_decrease_of_centaur_tolerance_effect = yes
	}
	option = {
		#Purge
		name = krakdhumvror.6.c
		add_country_modifier = {
			name = racial_pop_centaur_purge
			duration = -1
		}
		large_decrease_of_centaur_tolerance_effect = yes
	}
}

#Thundersteel
country_event = {
	id = krakdhumvror.7
	title = krakdhumvror.7.t
	desc = krakdhumvror.7.d
	picture = DWARVEN_RAIL_eventPicture	#BIG_BOOK_eventPicture
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = krakdhumvror.7.a
		add_country_modifier = {
			name = krakdhumvror_thundersteel
			duration = 9125
		}
		add_prestige = 15
		add_adm_power = 50
	}
}

#Sack of Haraz
country_event = {
	id = krakdhumvror.8
	title = krakdhumvror.8.t
	desc = krakdhumvror.8.d
	picture = REVOLT_HUNGARIAN_eventPicture
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		#sack
		name = krakdhumvror.8.a
		add_country_modifier = {
			name = krakdhumvror_haraz
			duration = 5475
		}
		add_adm_power = 75
		add_dip_power = 75
		add_mil_power = 75
		add_treasury = 1000
		add_prestige = 20
		2868 = {
			change_culture = no_culture
			change_religion = no_religion
			add_base_tax = -2
			add_base_production = -2
			add_base_manpower = -2
			add_devastation = 100
			add_province_modifier = {
				name = "krakdhumvror_destruction_of_haraz"
				duration = 3650
			}
			destroy_province = yes
			remove_province_modifier = infested_hold
		}
		4208 = {
			add_base_tax = 2
			add_base_production = 2
			add_base_manpower = 2
		}
		#I08 = {
		#			limit = {
		#				exists = yes
		#			}
		#			add_opinion = {
		#				who = I08
		#				modifier = krak_pillage
		#			}
		#		}
	}
}

#Sack of Amldihr
country_event = {
	id = krakdhumvror.9
	title = krakdhumvror.9.t
	desc = krakdhumvror.9.d
	picture = SIEGE_eventPicture
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		#sack
		name = krakdhumvror.9.a
		add_country_modifier = {
			name = krakdhumvror_amldihr_recovered
			duration = 5475
		}
		remove_orcish_minority_size_effect = yes
		remove_orcish_minority_size_effect = yes
		remove_orcish_minority_size_effect = yes
		large_decrease_of_orcish_tolerance_effect = yes
		add_adm_power = 75
		add_dip_power = 75
		add_mil_power = 75
		add_treasury = 1000
		4119 = {
			change_culture = ROOT
			change_religion = ROOT
			add_devastation = 100
		}
		#I02 = {
		#			limit = {
		#				exists = yes
		#			}
		#			add_opinion = {
		#				who = I02
		#				modifier = krak_pillage
		#			}
		#		}
		4121 = {
			add_province_modifier = {
				name = "krakdhumvror_adventurer_route"
				duration = -1
			}
		}
		4120 = {
			add_province_modifier = {
				name = "krakdhumvror_adventurer_route"
				duration = -1
			}
		}
		# add_estate_loyalty_modifier = {
		# 	estate = estate_adventurers
		# 	loyalty = 10
		# 	duration = 3650
		# }
	}
}

#Goblins of Er Natvir
country_event = {
	id = krakdhumvror.10
	title = krakdhumvror.10.t
	desc = krakdhumvror.10.d
	picture = GOBLIN_AMBUSH_event_picture
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		#Enlighten
		name = krakdhumvror.10.a
		add_country_modifier = {
			name = krakdhumvror_goblin_tolerance
			duration = -1
		}
		add_goblin_minority_size_effect = yes
		medium_increase_of_goblin_tolerance_effect = yes
		2931 = {
			change_religion = ROOT
		}
		add_dip_power = 50
	}
	option = {
		#second class citizen
		name = krakdhumvror.10.b
		railyard_area = {
			add_province_modifier = {
				name = "krakdhumvror_er_natvir_removal_small"
				duration = 3650
			}
		}
		add_country_modifier = {
			name = krakdhumvror_goblin_tolerance
			duration = 18250
		}
		remove_goblin_minority_size_effect = yes
		small_decrease_of_goblin_tolerance_effect = yes
		2931 = {
			change_culture = ROOT
			change_religion = ROOT
			add_devastation = 25
		}
	}
	option = {
		#Remove
		name = krakdhumvror.10.c
		railyard_area = {
			add_province_modifier = {
				name = "krakdhumvror_er_natvir_removal_large"
				duration = 7300
			}
		}
		remove_goblin_minority_size_effect = yes
		remove_goblin_minority_size_effect = yes
		remove_goblin_minority_size_effect = yes
		large_decrease_of_goblin_tolerance_effect = yes
		2931 = {
			change_culture = ROOT
			change_religion = ROOT
			add_devastation = 75
		}
	}
}

#A King in the North
country_event = {
	id = krakdhumvror.11
	title = krakdhumvror.11.t
	desc = krakdhumvror.11.d
	picture = WEX_PRECIPICE_eventPicture	#Might need replacing if they ever remove this.
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		#Long May We Reign!
		name = krakdhumvror.11.a
		add_country_modifier = {
			name = "krakdhumvror_a_king_in_the_north"
			duration = -1
		}
		add_prestige = 25
		add_adm_power = 100
		add_dip_power = 100
		add_mil_power = 100
	}
}

#Tag/Name Swapping
country_event = {
	id = krakdhumvror.12
	title = krakdhumvror.12.t
	desc = krakdhumvror.12.d
	picture = HRE_eventPicture
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = krakdhumvror.12.a
		override_country_name = I02_quartz_empire
		every_owned_province = {
			limit = {
				culture_group = dwarven
			}
			change_culture = quartz_dwarf
		}
		if = {
			limit = {
				ruler_culture = ROOT
			}
			set_ruler_culture = quartz_dwarf
		}
		if = {
			limit = {
				has_heir = yes
				heir_culture = ROOT
			}
			set_heir_culture = quartz_dwarf
		}
		if = {
			limit = {
				has_consort = yes
				consort_culture = ROOT
			}
			set_consort_culture = quartz_dwarf
		}
		change_primary_culture = quartz_dwarf
		every_province = {
			limit = {
				region = west_dwarovar_region
				NOT = {
					owned_by = ROOT
				}
			}
			add_permanent_claim = ROOT
		}
	}
}

#Rite of Cold Iron
country_event = {
	id = krakdhumvror.13
	title = krakdhumvror.13.t
	desc = krakdhumvror.13.d
	picture = GENERALS_DISCUSSING_eventPicture
	fire_only_once = yes
	trigger = {
		is_year = 1523
		NOT = {
			is_year = 1610
		}
		4208 = {
			owned_by = ROOT
		}
	}
	mean_time_to_happen = {
		months = 36
	}
	option = {
		#Accept
		name = krakdhumvror.13.a
		add_country_modifier = {
			name = krakdhumvror_rite_of_cold_iron_event
			duration = 3650
		}
	}
}

# Coking Hall Accords
country_event = {
	id = krakdhumvror.14
	title = krakdhumvror.14.t
	desc = krakdhumvror.14.d
	picture = MERCHANTS_TALKING_eventPicture	#DWARVEN_RAIL_eventPicture
	fire_only_once = yes
	trigger = {
		religion_group = dwarven
		is_year = 1550
		NOT = {
			is_year = 1610
		}
		4206 = {
			owned_by = ROOT
		}
		4208 = {
			owned_by = ROOT
		}
	}
	mean_time_to_happen = {
		months = 300
	}
	option = {
		#Heathen
		name = krakdhumvror.14.a
		add_country_modifier = {
			name = krakdhumvror_coking_hall_heathen
			duration = -1
		}
		add_goblin_minority_size_effect = yes
		medium_increase_of_goblin_tolerance_effect = yes
		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = 10
		}
		add_estate_loyalty = {
			estate = estate_church
			loyalty = -10
		}
	}
	option = {
		#True Faith
		name = krakdhumvror.14.b
		add_country_modifier = {
			name = krakdhumvror_coking_hall_true_faith
			duration = -1
		}
		remove_goblin_minority_size_effect = yes
		medium_decrease_of_goblin_tolerance_effect = yes
		add_estate_loyalty = {
			estate = estate_church
			loyalty = 10
		}
		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = -10
		}
	}
}

#Despot Overtake
country_event = {
	id = krakdhumvror.15
	title = krakdhumvror.15.t
	desc = krakdhumvror.15.d
	picture = LAND_MILITARY_eventPicture
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		#Monarchy
		name = krakdhumvror.15.a
		set_government_rank = 1
		add_prestige = 25
		if = {
			limit = {
				NOT = {
					government = monarchy
				}
			}
			change_government = monarchy
		}
		hidden_effect = {
			add_legitimacy = 100
		}
		# add_government_reform = frozenforge_crown_submod
		add_country_modifier = {
			name = "centralization_modifier"
			duration = 7300
		}
		#set_dynasty = original_dynasty
		set_dynasty = "Frozenforge"
		define_heir = {
			male = yes
			dynasty = "Amldihrus"
			age = 0
			name = "Amldirus"
			claim = 100
			adm = 6
			adm = 6
			adm = 6
			culture = ROOT
			religion = ROOT
		}
		add_stability = -1
		add_army_tradition = 15
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = -20
		}
	}
	option = {
		#Despot
		name = krakdhumvror.15.b
		set_government_rank = 1
		add_prestige = 25
		if = {
			limit = {
				NOT = {
					government = republic
				}
			}
			change_government = republic
		}
		hidden_effect = {
			add_republican_tradition = 100
		}
		add_government_reform = presidential_despot_reform
		add_country_modifier = {
			name = "centralization_modifier"
			duration = 7300
		}
		add_republican_tradition = -30
		add_stability = -1
		add_army_tradition = 15
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = -20
		}
	}
	option = {
		#Reason with Council
		name = krakdhumvror.15.c
		add_stability = 1
		add_legitimacy = -15
		add_army_tradition = -15
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = 20
		}
	}
}
