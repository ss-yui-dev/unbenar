DA_give_normal_starting_metals = {
	random_list = {
		3 = {
			set_province_flag = DA_Mine_Tin
		}
		3 = {
			set_province_flag = DA_Mine_Silver
		}
		1 = {
			set_province_flag = DA_Mine_Tantalum
		}
		1 = {
			set_province_flag = DA_Mine_Platinum
		}
		1 = {
			set_province_flag = DA_Mine_Chromium
		}
		1 = {
			set_province_flag = DA_Mine_Titanium
		}
		1 = {
			set_province_flag = DA_Mine_Quicksilver
		}
		110 = {
		}
	}
}
DA_give_Serpentspine_starting_metals = {
	random_list = {
		1 = {
			set_province_flag = DA_Mine_Dagrite
		}
		90 = {
		}
	}
}
DA_add_Metal_Common = {
	custom_tooltip = DA_find_metal_common_tt
	hidden_effect = {
		random_list = {
			1 = {
				trigger = {
					NOT = { has_province_flag = DA_Mine_Aluminium }
				}
				set_province_flag = DA_Mine_Aluminium
				province_event = {
					id = DA_Metallurgy_events.103 
					days = 15
				}
			}
			1 = {
				trigger = {
					NOT = { has_province_flag = DA_Mine_Chromium }
				}
				set_province_flag = DA_Mine_Chromium
				province_event = {
					id = DA_Metallurgy_events.105
					days = 15
				}
			}
			1 = {
				trigger = {
					NOT = { has_province_flag = DA_Mine_Silver }
				}
				set_province_flag = DA_Mine_Silver
				province_event = {
					id = DA_Metallurgy_events.101
					days = 15
				}
			}
			1 = {
				trigger = {
					NOT = { has_province_flag = DA_Mine_Tin }
				}
				set_province_flag = DA_Mine_Tin
				province_event = {
					id = DA_Metallurgy_events.102
					days = 15
				}
			}
			1 = {
				trigger = {
					NOT = { has_province_flag = DA_Mine_Titanium }
				}
				set_province_flag = DA_Mine_Titanium
				province_event = {
					id = DA_Metallurgy_events.104
					days = 15
				}
			}
		}
	}
}
DA_add_Metal_Rare = {
	custom_tooltip = DA_find_metal_Rare_tt
	hidden_effect = {
		random_list = {
			1 = {
				trigger = {
					NOT = { has_province_flag = DA_Mine_Palladium }
				}
				set_province_flag = DA_Mine_Palladium
				province_event = {
					id = DA_Metallurgy_events.106
					days = 15
				}
			}
			1 = {
				trigger = {
					NOT = { has_province_flag = DA_Mine_Platinum }
				}
				set_province_flag = DA_Mine_Platinum
				province_event = {
					id = DA_Metallurgy_events.107
					days = 15
				}
			}
			1 = {
				trigger = {
					NOT = { has_province_flag = DA_Mine_Tantalum }
				}
				set_province_flag = DA_Mine_Tantalum
				province_event = {
					id = DA_Metallurgy_events.108
					days = 15
				}
			}
			1 = {
				trigger = {
					continent = serpentspine
					NOT = { has_province_flag = DA_Mine_Dagrite }
				}
				set_province_flag = DA_Mine_Dagrite
				province_event = {
					id = DA_Metallurgy_events.110
					days = 15
				}
			}
			1 = {
				trigger = {
					NOT = { has_province_flag = DA_Mine_Rosemetal }
					OR = {
						province_id = 62
						province_id = 64
						province_id = 65
						province_id = 71
						province_id = 4343
						province_id = 4232
						province_id = 4241
					}
				}
				set_province_flag = DA_Mine_Rosemetal
				province_event = {
					id = DA_Metallurgy_events.111
					days = 15
				}
			}
			1 = {
				trigger = {
					NOT = { has_province_flag = DA_Mine_Quicksilver }
				}
				set_province_flag = DA_Mine_Quicksilver
				province_event = {
					id = DA_Metallurgy_events.112
					days = 15
				}
			}
			1 = {
				trigger = {
					NOT = { has_province_flag = DA_Mine_Cold_iron }
					superregion = eordand_superregion
				}
				set_province_flag = DA_Mine_Cold_iron
				province_event = {
					id = DA_Metallurgy_events.109
					days = 15
				}
			}
		}
	}
}
DA_add_Metal_Legendary = {
	custom_tooltip = DA_find_metal_Legendary_tt
	hidden_effect = {
		random_list = {
			1 = {
				trigger = {
					continent = serpentspine
					NOT = { has_province_flag = DA_Mine_Adamantium }
				}
				set_province_flag = DA_Mine_Adamantium
				province_event = {
					id = DA_Metallurgy_events.113
					days = 15
				}
			}
			1 = {
				trigger = {
					continent = serpentspine
					NOT = { has_province_flag = DA_Mine_Hearth_blood }
				}
				set_province_flag = DA_Mine_Hearth_blood
				province_event = {
					id = DA_Metallurgy_events.115
					days = 15
				}
			}
			1 = {
				trigger = {
					continent = serpentspine
					NOT = { has_province_flag = DA_Mine_Forgotten_steel }
				}
				set_province_flag = DA_Mine_Forgotten_steel
				province_event = {
					id = DA_Metallurgy_events.114
					days = 15
				}
			}
			# elemental minerals
			1 = {
				trigger = {
					NOT = { has_province_flag = DA_Mine_Magnetite }
				}
				set_province_flag = DA_Mine_Magnetite
				province_event = {
					id = DA_Metallurgy_events.117
					days = 15
				}
			}
			1 = {
				trigger = {
					NOT = { has_province_flag = DA_Mine_Mistium }
				}
				set_province_flag = DA_Mine_Mistium
				province_event = {
					id = DA_Metallurgy_events.118
					days = 15
				}
			}
			1 = {
				trigger = {
					NOT = { has_province_flag = DA_Mine_Skyshard }
				}
				set_province_flag = DA_Mine_Skyshard
				province_event = {
					id = DA_Metallurgy_events.119
					days = 15
				}
			}
			1 = {
				trigger = {
					NOT = { has_province_flag = DA_Mine_Cindersteel }
				}
				set_province_flag = DA_Mine_Cindersteel
				province_event = {
					id = DA_Metallurgy_events.116
					days = 15
				}
			}
		}
	}
}

DA_Mine_upgrade_alternative_events = {
	custom_tooltip = DA_Mine_upgrade_alternative_events_tt
	hidden_effect = {
		province_event = {
			id = DA_Metallurgy_events.100
			days = 15
		}
	}
}
DA_Mine_upgrade_reward_2 = {
	random_list = {
		70 = {
			DA_add_Metal_Common = yes
		}
		20 = {
			DA_add_Metal_Rare = yes
		}
		10 = {
			DA_Mine_upgrade_alternative_events = yes
		}
	}
}
DA_Mine_upgrade_reward_3 = {
	random_list = {
		60 = {
			DA_add_Metal_Common = yes
		}
		35 = {
			DA_add_Metal_Rare = yes
		}
		5 = {
			DA_Mine_upgrade_alternative_events = yes
		}
	}
}
DA_Mine_upgrade_reward_4 = {
	random_list = {
		40 = {
			DA_add_Metal_Common = yes
		}
		55 = {
			DA_add_Metal_Rare = yes
		}
		5 = {
			DA_add_Metal_Legendary = yes
		}
	}
}
DA_Mine_upgrade_reward_5 = {
	random_list = {
		5 = {
			DA_add_Metal_Common = yes
		}
		65 = {
			DA_add_Metal_Rare = yes
		}
		30 = {
			DA_add_Metal_Legendary = yes
		}
	}
}
DA_Find_Advanced_rune = {
	custom_tooltip = DA_Find_Advanced_rune_tt
	hidden_effect = {
		random_list = {
			1 = {
				province_event = {
					id = DA_Rune_event.100
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Rune_Durability }
					}
				}
				province_event = {
					id = DA_Rune_event.101
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Rune_Protection }
					}
				}
				province_event = {
					id = DA_Rune_event.102
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Rune_Precision }
					}
				}
				province_event = {
					id = DA_Rune_event.103
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Rune_Resolve }
					}
				}
				province_event = {
					id = DA_Rune_event.104
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Rune_Rage }
					}
				}
				province_event = {
					id = DA_Rune_event.105
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Earth_Earthen_Grasp }
					}
				}
				province_event = {
					id = DA_Rune_event.140
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Earth_StoneSkin }
					}
				}
				province_event = {
					id = DA_Rune_event.141
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Earth_Earthbound_Strength }
					}
				}
				province_event = {
					id = DA_Rune_event.142
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Air_Windborne_Swiftness }
					}
				}
				province_event = {
					id = DA_Rune_event.145
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Air_Galeforce_Impact }
					}
				}
				province_event = {
					id = DA_Rune_event.146
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Air_Airy_Shielding }
					}
				}
				province_event = {
					id = DA_Rune_event.147
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Fire_Pyrokinetic_Shield }
					}
				}
				province_event = {
					id = DA_Rune_event.150
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Fire_Scorching_Aura }
					}
				}
				province_event = {
					id = DA_Rune_event.151
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Fire_Flameburst_Impact }
					}
				}
				province_event = {
					id = DA_Rune_event.152
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Water_Torrential_Defense }
					}
				}
				province_event = {
					id = DA_Rune_event.155
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Water_Calming_Water }
					}
				}
				province_event = {
					id = DA_Rune_event.156
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Water_Frostbite_Grasp }
					}
				}
				province_event = {
					id = DA_Rune_event.157
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Enhancement_Muscle_density }
					}
				}
				province_event = {
					id = DA_Rune_event.160
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Enhancement_Dynamic_Vision }
					}
				}
				province_event = {
					id = DA_Rune_event.161
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Enhancement_Reflexes }
					}
				}
				province_event = {
					id = DA_Rune_event.162
				}
			}
		}
	}
}

DA_Find_runic_circuit = {
	custom_tooltip = DA_Find_runic_circuit_tt
	hidden_effect = {
		random_list = {
			1 = {
				province_event = {
					id = DA_Rune_event.100
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Circuit_Force_Field }
					}
				}
				province_event = {
					id = DA_Rune_event.200
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Circuit_Shock_Absorber }
					}
				}
				province_event = {
					id = DA_Rune_event.201
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Circuit_Kinetic_Accellerator }
					}
				}
				province_event = {
					id = DA_Rune_event.202
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Circuit_Hightened_Focus }
					}
				}
				province_event = {
					id = DA_Rune_event.203
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Circuit_Impact_Amplifier }
					}
				}
				province_event = {
					id = DA_Rune_event.204
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Enhancement_Muscle_Bone_density }
					}
				}
				province_event = {
					id = DA_Rune_event.240
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Enhancement_Senses }
					}
				}
				province_event = {
					id = DA_Rune_event.241
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Enhancement_Hightened_Reflexes }
					}
				}
				province_event = {
					id = DA_Rune_event.242
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Life_Vitality }
					}
				}
				province_event = {
					id = DA_Rune_event.245
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Life_Renawal }
					}
				}
				province_event = {
					id = DA_Rune_event.246
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Life_Adaptation }
					}
				}
				province_event = {
					id = DA_Rune_event.247
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Life_Movement }
					}
				}
				province_event = {
					id = DA_Rune_event.248
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Death_Decay }
					}
				}
				province_event = {
					id = DA_Rune_event.251
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Death_Memorial }
					}
				}
				province_event = {
					id = DA_Rune_event.252
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Death_Stillness }
					}
				}
				province_event = {
					id = DA_Rune_event.253
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Time_Perception }
					}
				}
				province_event = {
					id = DA_Rune_event.257
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Time_Change }
					}
				}
				province_event = {
					id = DA_Rune_event.258
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Time_Life_Death_Cycle }
					}
				}
				province_event = {
					id = DA_Rune_event.259
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Space_Teleportation }
					}
				}
				province_event = {
					id = DA_Rune_event.262
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Space_Dimensional_Damage }
					}
				}
				province_event = {
					id = DA_Rune_event.263
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Space_Spatial_Perception }
					}
				}
				province_event = {
					id = DA_Rune_event.264
				}
			}
		}
	}
}
DA_Find_runic_blueprint = {
	custom_tooltip = DA_Find_runic_blueprint_tt
	hidden_effect = {
		random_list = {
			1 = {
				province_event = {
					id = DA_Blueprint_event.100
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Blunderbuss }
					}
				}
				province_event = {
					id = DA_Blueprint_event.101
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Battle_axes }
					}
				}
				province_event = {
					id = DA_Blueprint_event.102
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Warhammers }
					}
				}
				province_event = {
					id = DA_Blueprint_event.103
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Cannon }
					}
				}
				province_event = {
					id = DA_Blueprint_event.104
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Power_Gauntlets }
					}
				}
				province_event = {
					id = DA_Blueprint_event.105
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Rifles }
					}
				}
				province_event = {
					id = DA_Blueprint_event.106
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Battering_ram }
					}
				}
				province_event = {
					id = DA_Blueprint_event.107
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Enhancement }
					}
				}
				province_event = {
					id = DA_Blueprint_event.108
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Blade }
					}
				}
				province_event = {
					id = DA_Blueprint_event.109
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Crossbow }
					}
				}
				province_event = {
					id = DA_Blueprint_event.110
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Throwing_spear }
					}
				}
				province_event = {
					id = DA_Blueprint_event.111
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Tower_shield }
					}
				}
				province_event = {
					id = DA_Blueprint_event.112
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Pike }
					}
				}
				province_event = {
					id = DA_Blueprint_event.113
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Arquebus }
					}
				}
				province_event = {
					id = DA_Blueprint_event.114
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Recurved_Bow }
					}
				}
				province_event = {
					id = DA_Blueprint_event.115
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Ballista }
					}
				}
				province_event = {
					id = DA_Blueprint_event.116
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Basilisk }
					}
				}
				province_event = {
					id = DA_Blueprint_event.117
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Def_Golem_1 }
					}
				}
				province_event = {
					id = DA_Blueprint_event.140
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Atk_Golem_1 }
					}
				}
				province_event = {
					id = DA_Blueprint_event.141
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_limbs }
					}
				}
				province_event = {
					id = DA_Blueprint_event.142
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_rifles }
					}
				}
				province_event = {
					id = DA_Blueprint_event.143
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_gauntlets }
					}
				}
				province_event = {
					id = DA_Blueprint_event.144
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_Voulge }
					}
				}
				province_event = {
					id = DA_Blueprint_event.145
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_rep_crossbow }
					}
				}
				province_event = {
					id = DA_Blueprint_event.146
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_ballista }
					}
				}
				province_event = {
					id = DA_Blueprint_event.147
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_bombard }
					}
				}
				province_event = {
					id = DA_Blueprint_event.148
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Expl_Bludgeon }
					}
				}
				province_event = {
					id = DA_Blueprint_event.149
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Expl_Morning_Star }
					}
				}
				province_event = {
					id = DA_Blueprint_event.150
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Expl_Longsword }
					}
				}
				province_event = {
					id = DA_Blueprint_event.151
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Expl_Javelin }
					}
				}
				province_event = {
					id = DA_Blueprint_event.152
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Expl_Arbalest }
					}
				}
				province_event = {
					id = DA_Blueprint_event.153
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Expl_Hand_Cannon }
					}
				}
				province_event = {
					id = DA_Blueprint_event.154
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Expl_Throwing_Knife }
					}
				}
				province_event = {
					id = DA_Blueprint_event.155
				}
			}
		}
	}
}
DA_Find_steam_blueprint = {
	custom_tooltip = DA_Find_steam_blueprint_tt
	hidden_effect = {
		random_list = {
			1 = {
				province_event = {
					id = DA_Blueprint_event.100
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Steam_Tanks }
					}
				}
				province_event = {
					id = DA_Blueprint_event.200
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Steam_Powered_Exosuit }
					}
				}
				province_event = {
					id = DA_Blueprint_event.201
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Steam_Powered_Artillery }
					}
				}
				province_event = {
					id = DA_Blueprint_event.202
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Steam_Powered_Drill_Spears }
					}
				}
				province_event = {
					id = DA_Blueprint_event.203
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Steam_Flamethrowers }
					}
				}
				province_event = {
					id = DA_Blueprint_event.204
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Steam_Power_Saws }
					}
				}
				province_event = {
					id = DA_Blueprint_event.205
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Steam_Grenade_Launchers }
					}
				}
				province_event = {
					id = DA_Blueprint_event.206
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Def_Golem_2 }
					}
				}
				province_event = {
					id = DA_Blueprint_event.240
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Atk_Golem_2 }
					}
				}
				province_event = {
					id = DA_Blueprint_event.241
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_exoskeleton }
					}
				}
				province_event = {
					id = DA_Blueprint_event.242
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_Steam_rifles }
					}
				}
				province_event = {
					id = DA_Blueprint_event.243
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_Steam_gauntlets }
					}
				}
				province_event = {
					id = DA_Blueprint_event.244
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_Steam_Tanks }
					}
				}
				province_event = {
					id = DA_Blueprint_event.245
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_Steam_Bombard }
					}
				}
				province_event = {
					id = DA_Blueprint_event.246
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_Steam_Ballista }
					}
				}
				province_event = {
					id = DA_Blueprint_event.247
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Vehicle_Driller }
					}
				}
				province_event = {
					id = DA_Blueprint_event.248
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Vehicle_Runesteel_Ravager }
					}
				}
				province_event = {
					id = DA_Blueprint_event.249
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Vehicle_Forgefire_Fury }
					}
				}
				province_event = {
					id = DA_Blueprint_event.250
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Vehicle_Steam_Arcanomech_Vanguard }
					}
				}
				province_event = {
					id = DA_Blueprint_event.251
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Vehicle_Steam_Arcanomech_Holder }
					}
				}
				province_event = {
					id = DA_Blueprint_event.252
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Bio_cons_Abomination }
					}
				}
				province_event = {
					id = DA_Blueprint_event.253
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Bio_cons_Living_Armor }
					}
				}
				province_event = {
					id = DA_Blueprint_event.254
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Bio_cons_Chimera }
					}
				}
				province_event = {
					id = DA_Blueprint_event.255
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Bio_cons_Purple_Worm }
					}
				}
				province_event = {
					id = DA_Blueprint_event.256
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Bio_cons_Ram }
					}
				}
				province_event = {
					id = DA_Blueprint_event.257
				}
			}
		}
	}
}
DA_Find_Runic_circuit_blueprint = {
	custom_tooltip = DA_Find_Runic_circuit_blueprint_tt
	hidden_effect = {
		random_list = {
			1 = {
				province_event = {
					id = DA_Blueprint_event.100
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Electric_Armor }
					}
				}
				province_event = {
					id = DA_Blueprint_event.300
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Electric_Automatic_artillery }
					}
				}
				province_event = {
					id = DA_Blueprint_event.301
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Electric_Automatic_Rifle }
					}
				}
				province_event = {
					id = DA_Blueprint_event.302
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Electric_Warhammer }
					}
				}
				province_event = {
					id = DA_Blueprint_event.303
				}
			}
			15 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Electric_Minigun }
					}
				}
				province_event = {
					id = DA_Blueprint_event.304
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Def_Golem_3 }
					}
				}
				province_event = {
					id = DA_Blueprint_event.340
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Runic_Atk_Golem_3 }
					}
				}
				province_event = {
					id = DA_Blueprint_event.341
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_electric_exoskeleton }
					}
				}
				province_event = {
					id = DA_Blueprint_event.342
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_electric_rifles }
					}
				}
				province_event = {
					id = DA_Blueprint_event.343
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_electric_gauntlets }
					}
				}
				province_event = {
					id = DA_Blueprint_event.344
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.ClockWork_Dragon }
					}
				}
				province_event = {
					id = DA_Blueprint_event.345
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_electric_Bombard }
					}
				}
				province_event = {
					id = DA_Blueprint_event.346
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Clock_electric_Ballista }
					}
				}
				province_event = {
					id = DA_Blueprint_event.347
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Tesla_Rifles }
					}
				}
				province_event = {
					id = DA_Blueprint_event.348
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Tesla_Warhammer }
					}
				}
				province_event = {
					id = DA_Blueprint_event.349
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Tesla_Suit }
					}
				}
				province_event = {
					id = DA_Blueprint_event.350
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Tesla_Culverin }
					}
				}
				province_event = {
					id = DA_Blueprint_event.351
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Tesla_Railgun }
					}
				}
				province_event = {
					id = DA_Blueprint_event.352
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Resonance_Warhammers }
					}
				}
				province_event = {
					id = DA_Blueprint_event.353
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Resonance_Rifles }
					}
				}
				province_event = {
					id = DA_Blueprint_event.354
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Resonance_Spears }
					}
				}
				province_event = {
					id = DA_Blueprint_event.355
				}
			}
			10 = {
				trigger = {
					owner = {
						NOT = { has_country_flag = DA_Unlocked.Resonance_Throwing_Spears }
					}
				}
				province_event = {
					id = DA_Blueprint_event.356
				}
			}
		}
	}
}

DA_calculate_metal_provinces = {
	set_variable = {
		which = DA_Metal_owned_Iron
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Copper
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Gold
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Silver
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Tin
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Aluminium
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Titanium
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Chromium
		value = 0
	}

	# rare 1
	set_variable = {
		which = DA_Metal_owned_Quicksilver
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Palladium
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Platinum
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Tantalum
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Damestear
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Meteoric_Silver
		value = 0
	}

	# rares 2

	set_variable = {
		which = DA_Metal_owned_Dagrite
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_RoseMetal
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Cold_iron
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Mithril
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_EbonSteel
		value = 0
	}

	# legendaries

	set_variable = {
		which = DA_Metal_owned_CinderSteel
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Magnetite
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Mistium
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Skyshard
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Adamantium
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Unastu_Argazen
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Bloth_Dolur
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_Sylvanite
		value = 0
	}
	set_variable = {
		which = DA_Metal_owned_VoidSteel
		value = 0
	}
	# calculation
	every_owned_province = {
		if = {
			limit = { trade_goods = iron }
			export_to_variable = {
				variable_name = DA_Metal_owned_Iron
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Iron
					which = PREV
				}
			}
		}
		if = {
			limit = { trade_goods = copper }
			export_to_variable = {
				variable_name = DA_Metal_owned_Copper
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Copper
					which = PREV
				}
			}
		}
		if = {
			limit = { trade_goods = gold }
			export_to_variable = {
				variable_name = DA_Metal_owned_Gold
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Gold
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Silver }
			export_to_variable = {
				variable_name = DA_Metal_owned_Silver
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Silver
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Tin }
			export_to_variable = {
				variable_name = DA_Metal_owned_Tin
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Tin
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Aluminium }
			export_to_variable = {
				variable_name = DA_Metal_owned_Aluminium
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Aluminium
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Titanium }
			export_to_variable = {
				variable_name = DA_Metal_owned_Titanium
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Titanium
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Chromium }
			export_to_variable = {
				variable_name = DA_Metal_owned_Chromium
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Chromium
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Quicksilver }
			export_to_variable = {
				variable_name = DA_Metal_owned_Quicksilver
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Quicksilver
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Palladium }
			export_to_variable = {
				variable_name = DA_Metal_owned_Palladium
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Palladium
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Platinum }
			export_to_variable = {
				variable_name = DA_Metal_owned_Platinum
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Platinum
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Tantalum }
			export_to_variable = {
				variable_name = DA_Metal_owned_Tantalum
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Tantalum
					which = PREV
				}
			}
		}
		if = {
			limit = { trade_goods = damestear }
			export_to_variable = {
				variable_name = DA_Metal_owned_Damestear
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Damestear
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_modifier = DA_Meteoric_Silver_deposit }
			export_to_variable = {
				variable_name = DA_Metal_owned_Meteoric_Silver
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Meteoric_Silver
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Dagrite }
			export_to_variable = {
				variable_name = DA_Metal_owned_Dagrite
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Dagrite
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Rosemetal }
			export_to_variable = {
				variable_name = DA_Metal_owned_RoseMetal
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_RoseMetal
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Cold_iron }
			export_to_variable = {
				variable_name = DA_Metal_owned_Cold_iron
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Cold_iron
					which = PREV
				}
			}
		}
		if = {
			limit = { trade_goods = mithril }
			export_to_variable = {
				variable_name = DA_Metal_owned_Mithril
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Mithril
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_modifier = small_ebonsteel_forge }
			export_to_variable = {
				variable_name = DA_Metal_owned_EbonSteel
				value = trigger_value:base_production
			}
			divide_variable = {
				which = DA_Metal_owned_EbonSteel
				value = 2
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_EbonSteel
					which = PREV
				}
			}
		}
		if = {
			limit = { OR = { has_province_modifier = medium_ebonsteel_forge has_province_modifier = isolation_ebonsteel } }
			export_to_variable = {
				variable_name = DA_Metal_owned_EbonSteel
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_EbonSteel
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_modifier = urviksten_ebonforge }
			export_to_variable = {
				variable_name = DA_Metal_owned_EbonSteel
				value = trigger_value:base_production
			}
			multiply_variable = {
				which = DA_Metal_owned_EbonSteel
				value = 2
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_EbonSteel
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Cindersteel }
			export_to_variable = {
				variable_name = DA_Metal_owned_CinderSteel
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_CinderSteel
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Magnetite }
			export_to_variable = {
				variable_name = DA_Metal_owned_Magnetite
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Magnetite
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Mistium }
			export_to_variable = {
				variable_name = DA_Metal_owned_Mistium
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Mistium
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Skyshard }
			export_to_variable = {
				variable_name = DA_Metal_owned_Skyshard
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Skyshard
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Adamantium }
			export_to_variable = {
				variable_name = DA_Metal_owned_Adamantium
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Adamantium
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Forgotten_steel }
			export_to_variable = {
				variable_name = DA_Metal_owned_Unastu_Argazen
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Unastu_Argazen
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_flag = DA_Mine_Hearth_blood }
			export_to_variable = {
				variable_name = DA_Metal_owned_Bloth_Dolur
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Bloth_Dolur
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_modifier = DA_Sylvanite_deposit }
			export_to_variable = {
				variable_name = DA_Metal_owned_Sylvanite
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_Sylvanite
					which = PREV
				}
			}
		}
		if = {
			limit = { has_province_modifier = DA_VoidSteel_deposit }
			export_to_variable = {
				variable_name = DA_Metal_owned_VoidSteel
				value = trigger_value:base_production
			}
			FROM = {
				change_variable = {
					which = DA_Metal_owned_VoidSteel
					which = PREV
				}
			}
		}
	}
}